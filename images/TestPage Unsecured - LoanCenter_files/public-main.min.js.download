function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function isValidLandingPage(e){var t=e.partner_url;if(null==t||""===t)return!0;var i=t.replace(/([\/, .])/gm,"\\$&");return new RegExp("^"+i,"gm").test(window.location.href)}function initCookiePartnerData(e,t,i,r){if(null==i&&(i=!0),null==r&&(r=!1),null!=t){var n=t.targetElements;if(null!==t.partnerDetails&&void 0!==t.partnerDetails&&t.isWhiteListed&&null!=n)for(var a=t.partnerDetails,o=0;o<n.length;o++){var c=a.partner_number;c||(c=e(n[o]).text());var s=c.replace(/\D/g,"");/^1([0-9]{10})/gm.test(s)||(s="1"+s),e(n[o]).attr("href","tel:+"+s),e(n[o]).html(c),e(n[o]).addClass("wcc-lc-partner-campaign-plugin")}if(i)try{wfsCookie.set("configuration",t)}catch(e){}}}function checkPartnerDetailBaseOnURL(i,e){e=e.split("?")[0];var t=window.location.href;t=(t=(t=t.replace("http://","").replace("https://","").split("/"))[0]).replace(/\./g,".");var r=new RegExp("^http.*"+t),n=wfsCookie.get("isLoanCenterVisited");if(n=n||!1,!r.test(document.referrer)){if(!document.referrer&&n)return!1;i.ajax({method:"POST",url:"/wp-json/lc-partner-campaigner/common/get-partner-details-by-url?t="+(new Date).getTime(),data:{partnerURL:e},success:function(e){var t=e.data;null!=t&&(t.isWhiteListed=!0,initCookiePartnerData(i,t,!0,!0))}}).fail(function(e){})}}function checkPartnerDetailsByID(i,e){i.ajax({method:"POST",url:"/wp-json/lc-partner-campaigner/common/get-partner-details?t="+(new Date).getTime(),data:{partnerId:e},success:function(e){var t=e.data;null!=t&&(t.isWhiteListed="1"===window._LC_PARTNER_CAMPAIGN_IS_WHITELISTED.isWhiteListed,initCookiePartnerData(i,t,!0,!0))}}).fail(function(e){})}function initPartnerDetails(e){var t=getParameterByName("pid"),i=wfsCookie.get("configuration");if(null!=i&&null!==i.pid&&void 0!==i.pid)return i.isWhiteListed="1"===window._LC_PARTNER_CAMPAIGN_IS_WHITELISTED.isWhiteListed,void initCookiePartnerData(e,i,"1"!==window._LC_PARTNER_CAMPAIGN_IS_WHITELISTED.fromPOST);null==t?checkPartnerDetailBaseOnURL(e,window.location.href):checkPartnerDetailsByID(e,t)}window.wfsCookie={rootKey:"wcc_lcpcp",cookieData:{state:null},get:function(e){var t=this.getMainObject();if(null===(t=void 0===(t=t[e])?null:t))return t;try{t=JSON.parse(t)}catch(e){return t}return t},set:function(e,t){var i=t,r=this.getMainObject();r[e]=i,this.updateMainObject(r)},reset:function(){return this.getMainObject()},remove:function(e){var t=this.getMainObject();return delete t[e],this.updateMainObject(t),t},getRegex:function(){return new RegExp(this.rootKey+"=(.*)")},getMainObject:function(){var t=this,e=("; "+document.cookie).split(this.getRegex());if(e.length<2)return this.updateMainObject(this.cookieData),this.getMainObject();e=(e=e[1]).split("; ").splice(0,1)[0],e=this.processCookie(e,!0);try{this.cookieData=JSON.parse(e)}catch(e){this.cookieData={}}var i={};return Object.keys(this.cookieData).map(function(e){try{return i[e]=JSON.parse(t.specialCharProcessor(t.cookieData[e],!0))}catch(e){}return i[e]=t.cookieData[e]}),i},updateMainObject:function(e){document.cookie=this.rootKey+"="+this.processCookie(JSON.stringify(e))+"; path=/"},specialCharProcessor:function(e,t){var i={" , ":","};void 0!==t&&(t=!1);for(var r=e,n=Object.keys(i),a=0;a<n.length;a++)t||(r=r.replace(n[a],i[n[a]])),t&&(r=r.replace(i[n[a]],n[a]));return r},processCookie:function(e,t){return void 0===t&&(t=!1),t?atob(e):btoa(e)}},function(e){"use strict";initPartnerDetails(jQuery);try{wfsCookie.set("isLoanCenterVisited",!0)}catch(e){}}();